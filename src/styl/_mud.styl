// Copyright (c)2022 Quinn Michaels. All rights reserved.
$dir = {
  north: $colors.red,
  east: $colors.green,
  south: $colors.blue,
  west: $colors.yellow,
  up: $colors.purple,
  down: $colors.aqua,
}

#Controller
  display: flex
  flex-flow: column nowrap
  opacity: 1
  width: 180px
  justify-content: flex-start;

  button
    font-size: .75rem
    padding: .3rem
    margin: 2px
    border-radius: $border.outer
    .icn
      display: block
      font-size: 1rem

  hr
    width: 100%
    border: 0
    border-bottom: 1px solid transparent
    margin: 5px
    padding: 0

#Content
  .cloud

    .text
      pre
        line-height: 1.2
        font-family: $fonts-code
        font-size: .9rem
        margin: 0
        background-color: rgba($colors.darker-grey, 80%)
        border-radius: $border.outer
        padding: .5rem 1rem

    .box
      &::before
        min-width: 5rem

      &.lookat
        display: flex
        flex-flow: row wrap
        justify-content: center
        gap: 9px
        .btn
          margin: 0
          padding: 0
          line-height: 0
          background-color: transparent
          box-shadow: none
          border: none
          border-radius: 5rem
          box-shadow: 0 0 0 $colors.green
          width: 100px
          height: 100px
          &:hover
            box-shadow: 0 0 9px $colors.green

          img
            width: 100px
            height: 100px

      &.inventory
        display: flex
        padding: .5rem
        background-color: $colors.black
        .object
          .btn
            border-radius: 50%
            line-height: 0
            img
              width: 50px
              height: 50px
              border-radius: 50%
      &.arcade
        max-width: 600px
        background-color: rgba($colors.black, .5)
        border-radius: $border.outer
        font-size: .75rem
        box-shadow: 0 0 7px var(--browser-item-color)
        margin: 1rem auto
        padding: 1rem

        .feecting-image
          margin-bottom: .5rem
          img
            width: 100%
            height: auto
            border-radius: $border.outer
            box-shadow: 0 0 3px var(--browser-item-color)

        > h2
          margin: 0
          padding: 0 0 1rem 0
          text-align: center
          font-size: 1.2rem
          color: var(--browser-item-color)
          border-bottom: none
          font-weight: bold
          text-transform: uppercase

      &.agob
        display: flex
        flex: 0
        flex-flow: row nowrap
        padding: .25rem

        .agents
          min-width: 50%
          flex: 1

        .objects
          justify-content: flex-end
          flex: 0
        .agents
        .objects
          display: flex
          .btn
            border-radius: 50%
            box-shadow: none
            line-height: 0
            padding: 0
            width: 33px
            height: 33px
            margin: 2px
            line-height: 0
            img
              border-radius: 50%
              width: 100%
              height: 100%



#Controller
  .state
    .playing
      padding: .25rem .5rem;
      color: $colors.darker-grey
      background-color: $colors.green
      margin: .25rem;
      border-radius: $border.outer;

  .directions
    font-size: 1.25rem
    padding: .25rem
    .nsew
      transition: var(--transition-default)
      display: flex
      flex-flow: row wrap
      align-items: center
      justify-content: center
      align-content: center
      box-shadow: inset 0 2px 3px rgba($colors.black, .25), 0 1px 1px rgba($colors.white, .1)

      border-radius: 6rem
      position: relative
      width: 130px;
      height: 130px;
      margin: auto

      $look-size = 46px
      .look
        margin: 0
        padding: 0
        position: absolute
        top: calc(50% - ($look-size / 2))
        left: calc(50% - ($look-size / 2))
        height: $look-size
        width: $look-size
        button
          margin: 0
          padding: 0
          width: $look-size
          height: $look-size
          background-image: url(/public/img/ui/pearl.png)
          background-size: $look-size $look-size
          background-position: center center
          border-radius: 50%
          overflow: hidden
          box-shadow: 0 0 0 rgba(0,0,0,.0)
          overflow: hidden
          &:hover
            box-shadow: 0 0 5px $colors.baby-blue
          &:active
            box-shadow: inset 0 0 9px $colors.orange

      .north
      .east
      .west
      .south
        visibility: hidden
        text-align: center
        button
          border-radius: 1.25rem
          margin: 0
          line-height: 0
          height: 2.5rem
          width: 2.5rem
          &:hover
            opacity: 1
          i
            font-size: .8rem

      .north
      .south
        flex: 1 100%
        line-height: 1
        height: 2.8rem

      .north
        order: 1
        align-self: flex-start

        &.active
          visibility: visible

      .south
        order: 4
        align-self: flex-end
        display: flex
        flex-flow: column nowrap
        align-items: center
        justify-content: flex-end
        &.active
          visibility: visible

      .east
      .west
        flex: 1
        &.active
          visibility: visible

      .east
        order: 3
        text-align: right

      .west
        order: 2
        text-align: left

      .up
      .down
        top: -10px
        position: absolute
        visibility: hidden
        &.active
          visibility: visible

        button
          border-radius: 1.5rem
          > .icn
            font-size: 1.2rem

      .up
        left: -10px

      .down
        right: -10px

#Menu
  display: flex
  flex-flow: row wrap
  transition: var(--transition-default)
  padding: .25rem

  button
    padding: .5rem
    flex: 1
    margin: 0
    background-color: transparent
    box-shadow: none
    color: rgba($colors.baby-blue,.25)
    &:hover
      color: $colors.baby-blue
      text-shadow: 0 0 5px rgba($colors.baby-blue, .5)


#Exits
  display: flex
  flex-flow: column nowrap

  .exit
    visibility: hidden
    display: none
    min-width: 50%
    border-radius: 1rem
    align-items: center
    padding: 1px 6px 1px 3px
    flex: 1
    margin: 1px 5px
    background-color: rgba(0,0,0,.75)
    box-shadow: none
    .icn
      flex: 0
      padding: 1px

    span
      flex: 1
      text-align: left
      white-space: nowrap
      text-overflow: ellipsis
      overflow: hidden
      font-size: .8rem
    &.active
      display: flex
      transition: all .25s linear
      visibility: visible
      font-weight: 100
      &:hover
        text-shadow: 0 1px 2px rgba($colors.black, .5)

      &.north
        color: rgba($colors.blue, .5)

        &:hover
          color: $colors.blue

      &.northwest
        color: rgba($colors.blue, .5)
        &:hover
          color: $colors.blue
        .icn
          transform: rotate(-45deg)

      &.northeast
        color: rgba($colors.blue, .5)
        &:hover
          color: $colors.blue
        .icn
          transform: rotate(45deg)

      &.south
        color: rgba($colors.red, .5)
        &:hover
          color: $colors.red

      &.southwest
        color: rgba($colors.red, .5)
        &:hover
          color: $colors.red
        .icn
          transform: rotate(45deg)

      &.southeast
        color: rgba($colors.red, .5)
        &:hover
          color: $colors.red
        .icn
          transform: rotate(-45deg)

      &.east
        color: rgba($colors.yellow, .5)
        &:hover
          color: $colors.yellow
      &.west
        color: rgba($colors.green, .5)
        &:hover
          color: $colors.green
      &.up
        color: rgba($colors.aqua, .5)
        &:hover
          color: $colors.aqua
      &.down
        color: rgba($colors.pink, .5)
        &:hover
          color: $colors.pink

      &.door
        &.direction
          &.north
          &.south
          &.east
          &.west
            color: $colors.dark-grey
#Goto
  padding 2px

  input[type="text"]
    color: $colors.baby-blue
    background-color: transparent
    box-shadow: inset 0 2px 3px rgba($colors.black, .25), 0 1px 1px rgba($colors.white, .1)
    width: 100%
    border-radius: 1rem
    border: none
    outline: none
    font-size: .9rem
    padding: .5rem .75rem
    &::placeholder
      color: rgba($colors.black, .5)
    &:focus
      background-color: rgba($colors.black, .25)
      &::placeholder
        color: rgba($colors.white, .5)

$bg-size = 1200px
$full-size = 510px
$grid-size = $full-size / 2
$grid-height = $grid-size
$grid-cols = 15

@keyframes rotatebg
  0%
    transform: rotate(0)
  10%
    opacity: 0
  20%
    opacity: .25
  30%
    opacity: .1
  40%
    opacity: .35
  50%
    opacity: .15
  60%
    opacity: .2
  70%
    opacity: .05
  80%
    opacity: .3
  90%
    opacity: .15
  100%
    opacity: .2
    transform: rotate(360deg)

.controls
  transition: all 1s linear
  padding: 0
  background-repeat: no-repeat
  background-position: 0 0
  background-size: $bg-size $bg-size
  height: $grid-height
  min-height: $grid-height
  max-height: $grid-height

#Map
  margin: 0
  overflow: hidden
  margin: .5rem auto 0 auto
  border-radius: $border.outer
  width: $grid-size
  min-width: $grid-size
  max-width: $grid-size
  height: $grid-height
  min-height: $grid-height
  max-height: $grid-height
  position: relative

  .grid
    transition: all 1s linear
    position: relative
    margin: 0 auto 1rem auto
    display: flex
    flex-flow: row wrap
    height: $grid-height
    width: $grid-size
    padding: 0
    overflow: hidden

    $cell = $grid-size / $grid-cols
    $dot = 30px
    $dotH = $dot / 2

    .dots
      visibility: hidden
      transition: var(--transition-default)
      opacity: 0
      position: absolute
      border-radius: $dot
      border: 1px solid transparent

      &.active
        visibility: visible
        opacity: 1


    .center-dot
      position: absolute
      width: $dot
      height: $dot
      left: calc(50% - 15px)
      top: calc(50% - 15px)
      border-radius: $dot
      background-color: rgba($colors.baby-blue, .35)
      background-image: url(/public/img/ui/pearl.png)
      background-size: $dot $dot
      background-position: center center
      box-shadow: 0 0 3px $colors.black


    .north-dot
      width:$dotH
      height: $dot
      top: calc(50% - 47px)
      left: calc(50% - 7.5px)

      background-color: rgba($colors.blue, .45)
      &:hover
        border-color: $colors.blue

    .south-dot
      width:$dotH
      height: $dot
      top: calc(50% + 17px)
      left: calc(50% - 7.5px)
      background-color: rgba($colors.red, .45)
      &:hover
        border-color: $colors.red

    .east-dot
      height:$dotH
      width: $dot
      top: calc(50% - 7.5px)
      left: calc(50% + 17px)
      background-color: rgba($colors.yellow, .45)
      &:hover
        border-color: $colors.yellow

    .west-dot
      height:$dotH
      width: $dot
      left: calc(50% - 47px)
      top: calc(50% - 7.5px)
      background-color: rgba($colors.green, .45)
      &:hover
        border-color: $colors.green

    $necolor = mix($colors.green, $colors.blue)
    $nwcolor = mix($colors.blue, $colors.yellow)
    $secolor = mix($colors.yellow, $colors.red)
    $swcolor = mix($colors.red, $colors.green)

    .northwest-dot
      height: $dotH
      width: $dot
      background-color: rgba($nwcolor, .45)
      transform: rotate(45deg)
      left: calc(50% - 38px)
      top: calc(50% - 30px)
      &:hover
        border-color: $nwcolor

    .northeast-dot
      height: $dotH
      width: $dot
      background-color: rgba($necolor, .45)
      transform: rotate(-45deg)
      left: calc(50% - -7px)
      top: calc(50% - 30px)
      &:hover
        border-color: $necolor

    .southeast-dot
      height: $dotH
      width: $dot
      background-color: rgba($secolor, .45)
      transform: rotate(45deg)
      left: calc(50% - -7px)
      top: calc(50% - -15px)
      &:hover
        border-color: $secolor

    .southwest-dot
      height: $dotH
      width: $dot
      background-color: rgba($swcolor, .45)
      transform: rotate(-45deg)
      left: calc(50% - 38px)
      top: calc(50% - -15px)
      &:hover
        border-color: $swcolor

    .cell
      flex: 1
      height: $cell
      width: $cell
      min-width: $cell
      min-height: $cell

#Watch
  border-radius: $border.outer
  margin: 1px
  font-family: $fonts-text
  padding: .25rem
  flex: 0
  background-color: rgba(0,0,0,.5)
  display: flex
  flex-flow: row nowrap
  align-items: center

  .icn
    font-size: .9rem

  .watch
    &-day
    &-time
    &-date
    &-room
    &-comm
    &-weather
    &-pos
      margin: 0
      padding: 0
      line-height: 1
      font-size: .75rem
      padding: .2rem

      font-family: $fonts-code
      display: inline-block
      color: rgba($colors.green, .75)
      text-shadow: 0 1px 3px $colors.black
      white-space: nowrap


    &-day
      flex: 0

    &-hour
      flex: 0
      text-align: center

    &-date
      flex: 0

    &-room
      flex: 1
      text-align: right
    &-comm
    &-weather
      font-size: 1rem
      .news
        color: $colors.orange
      .motd
        color: $colors.yellow

#Talk
  display: flex
  flex-flow: column nowrap
  padding: .5rem

#Alerts
  flex: 1
  overflow: auto
  min-height: 200px
  font-family: $fonts-text

  > .item
    font-size: .75rem
    color: $colors.light-grey
    background-color: rgba($colors.black, .5)
    margin: 1px
    padding: .3rem .75rem
    font-weight: 100;
    border-radius: $border.outer
    &:nth-child(odd)
      background-color: rgba($colors.black, .85)
    a
      color: $colors.baby-blue
      font-weight: bold
      text-decoration: none
  .item
    &.audio
      .label
        display: none
      .value
        audio
          width: 300px
          height: 20px



#Score
  flex: 0
  display: flex
  margin: 1px
  border-radius: $border.outer
  display: flex
  flex-flow: row wrap
  background-color: rgba(0,0,0,.5)

  > div
    padding: .2rem
    span
      font-family: $fonts-text
      flex: 1 1
      display: flex
      flex-flow: column
      align-items: center
      padding: .5rem
      border-radius: $border.outer
      font-size: .75rem

      &.label
        flex: 1
        text-align: center
        border-right: none
        padding: 0
        margin: 0 0 .25rem 0
        color: rgba($colors.grey, .5)
        line-height: 1
        min-width: 50px
      &.value
        color: rgba($colors.green, .75)
        margin: 0
        padding: 0
        flex: 1
        background-color: transparent
        text-align: center
        line-height: 1

#Navigate
  flex: 1

#Stats
  display: flex
  flex-flow: row nowrap
  font-size: .5rem
  > div
    flex: 1
    height: 12px
    position: relative
    .warning
      &::before
        background-color: $colors.yellow
    .alert
      &::before
        background-color: $colors.red

    .bar
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      width: 100%
      height: 100%
      &::before
        font-family: icons
        box-sizing: border-box
        min-width: 20px
        text-align: right
        box-shadow: inset 0 1px 2px rgba($colors.darkest-grey, .5)
        display: inline-block
        width: var(--bar-width)
        position: absolute
        bottom: 0
        left: 0
        padding: 0 .25rem
        line-height: 1.5

  &Hunger
    .bar
      &::before
        content: "\e82c"
        background-color: rgba($colors.purple, .15)
        color: $colors.purple
  &Thirst
    .bar
      &::before
        content: "\e810"
        background-color: rgba($colors.aqua, .15)
        color: $colors.aqua
  &Hit
    .bar
      &::before
        content: "\e72f"
        background-color: rgba($colors.yellow, .15)
        color: lighten($colors.yellow, 25%)
  &Mana
    .bar
      &::before
        content: "\e730"
        background-color: rgba($colors.orange, .15)
        color: lighten($colors.orange, 25%)
  &Move
    .bar
      &::before
        content: "\e72d"
        background-color: rgba($colors.red, .15)
        color: lighten($colors.red, 25%)

#Deva
  background-color: $colors.orange
  display: flex
  flex-flow: row nowrap
  height: 200px
  padding: .5rem
  .log-items
    background-color: $colors.red
    flex: 1 65%
  .avatar-area
    background-color: $colors.blue
    flex: 1 35%
